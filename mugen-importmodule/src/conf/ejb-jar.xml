<?xml version="1.0" encoding="UTF-8"?>
<ejb-jar version="2.1" xmlns="http://java.sun.com/xml/ns/j2ee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/ejb-jar_2_1.xsd">
    <display-name>ImportModule</display-name>
    <enterprise-beans>
        <session>
            <display-name>ImporterSB</display-name>
            <ejb-name>ImporterBean</ejb-name>
            <home>com.arexis.alab.importerbean.ImporterRemoteHome</home>
            <remote>com.arexis.alab.importerbean.ImporterRemote</remote>
            <ejb-class>com.arexis.alab.importerbean.ImporterBean</ejb-class>
            <session-type>Stateless</session-type>
            <transaction-type>Bean</transaction-type>
            <ejb-ref>
                <ejb-ref-name>ejb/ImportJobBean</ejb-ref-name>
                <ejb-ref-type>Entity</ejb-ref-type>
                <home>com.arexis.alab.imp.importjob.ImportJobRemoteHome</home>
                <remote>com.arexis.alab.imp.importjob.ImportJobRemote</remote>
                <ejb-link>ImportJobBean</ejb-link>
            </ejb-ref>
            <ejb-ref>
                <ejb-ref-name>ejb/SamplingUnitManagerBean</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>com.arexis.mugen.samplingunit.samplingunitmanager.SamplingUnitManagerRemoteHome</home>
                <remote>com.arexis.mugen.samplingunit.samplingunitmanager.SamplingUnitManagerRemote</remote>
                <ejb-link>mugen-projectmodule.jar#SamplingUnitManagerBean</ejb-link>
            </ejb-ref>
            <ejb-ref>
                <ejb-ref-name>ejb/GenotypeManagerBean</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>com.arexis.mugen.genotype.genotypemanager.GenotypeManagerRemoteHome</home>
                <remote>com.arexis.mugen.genotype.genotypemanager.GenotypeManagerRemote</remote>
                <ejb-link>mugen-projectmodule.jar#GenotypeManagerBean</ejb-link>
            </ejb-ref>
            <ejb-ref>
                <ejb-ref-name>ejb/ResourceManagerBean</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>com.arexis.mugen.resource.resourcemanager.ResourceManagerRemoteHome</home>
                <remote>com.arexis.mugen.resource.resourcemanager.ResourceManagerRemote</remote>
                <ejb-link>mugen-projectmodule.jar#ResourceManagerBean</ejb-link>
            </ejb-ref>
            
            <resource-ref>
                <res-ref-name>jms/ImpDestinationFactory</res-ref-name>
                <res-type>javax.jms.ConnectionFactory</res-type>
                <res-auth>Container</res-auth>
                <res-sharing-scope>Shareable</res-sharing-scope>
            </resource-ref>
            <message-destination-ref>
                <message-destination-ref-name>jms/ImpDestination</message-destination-ref-name>
                <message-destination-type>javax.jms.Queue</message-destination-type>
                <message-destination-usage>Produces</message-destination-usage>
                <message-destination-link>ImpDestination</message-destination-link>
            </message-destination-ref>
            </session>
        <entity>
            <display-name>ImportJobEB</display-name>
            <ejb-name>ImportJobBean</ejb-name>
            <home>com.arexis.alab.imp.importjob.ImportJobRemoteHome</home>
            <remote>com.arexis.alab.imp.importjob.ImportJobRemote</remote>
            <ejb-class>com.arexis.alab.imp.importjob.ImportJobBean</ejb-class>
            <persistence-type>Bean</persistence-type>
            <prim-key-class>java.lang.Integer</prim-key-class>
            <reentrant>false</reentrant>
            <ejb-ref>
                <ejb-ref-name>ejb/UserBean</ejb-ref-name>
                <ejb-ref-type>Entity</ejb-ref-type>
                <home>com.arexis.mugen.project.user.UserRemoteHome</home>
                <remote>com.arexis.mugen.project.user.UserRemote</remote>
                <ejb-link>mugen-projectmodule.jar#UserBean</ejb-link>
            </ejb-ref>
            <ejb-ref>
                <ejb-ref-name>ejb/FileBean</ejb-ref-name>
                <ejb-ref-type>Entity</ejb-ref-type>
                <home>com.arexis.mugen.resource.file.FileRemoteHome</home>
                <remote>com.arexis.mugen.resource.file.FileRemote</remote>
                <ejb-link>mugen-projectmodule.jar#FileBean</ejb-link>
            </ejb-ref>
            <ejb-ref>
                <ejb-ref-name>ejb/ProjectBean</ejb-ref-name>
                <ejb-ref-type>Entity</ejb-ref-type>
                <home>com.arexis.mugen.project.project.ProjectRemoteHome</home>
                <remote>com.arexis.mugen.project.project.ProjectRemote</remote>
                <ejb-link>mugen-projectmodule.jar#ProjectBean</ejb-link>
            </ejb-ref>
            </entity>
        <message-driven>
            <display-name>ImpMDB</display-name>
            <ejb-name>ImpBean</ejb-name>
            <ejb-class>com.arexis.alab.imp.ImpBean</ejb-class>
            <transaction-type>Container</transaction-type>
            <message-destination-type>javax.jms.Queue</message-destination-type>
            <message-destination-link>ImpDestination</message-destination-link>
            <activation-config>
                <activation-config-property>
                    <activation-config-property-name>acknowledgeMode</activation-config-property-name>
                    <activation-config-property-value>Auto-acknowledge</activation-config-property-value>
                </activation-config-property>
                <activation-config-property>
                    <activation-config-property-name>destinationType</activation-config-property-name>
                    <activation-config-property-value>javax.jms.Queue</activation-config-property-value>
                </activation-config-property>
            </activation-config>
            <ejb-ref>
                <ejb-ref-name>ejb/SamplingUnitManagerBean</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>com.arexis.mugen.samplingunit.samplingunitmanager.SamplingUnitManagerRemoteHome</home>
                <remote>com.arexis.mugen.samplingunit.samplingunitmanager.SamplingUnitManagerRemote</remote>
                <ejb-link>mugen-projectmodule.jar#SamplingUnitManagerBean</ejb-link>
            </ejb-ref>
            <ejb-ref>
                <ejb-ref-name>ejb/ModelManagerBean</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>com.arexis.mugen.model.modelmanager.ModelManagerRemoteHome</home>
                <remote>com.arexis.mugen.model.modelmanager.ModelManagerRemote</remote>
                <ejb-link>mugen-projectmodule.jar#ModelManagerBean</ejb-link>
            </ejb-ref>
            <ejb-ref>
                <ejb-ref-name>ejb/ImporterBean</ejb-ref-name>
                <ejb-ref-type>Session</ejb-ref-type>
                <home>com.arexis.alab.importerbean.ImporterRemoteHome</home>
                <remote>com.arexis.alab.importerbean.ImporterRemote</remote>
                <ejb-link>ImporterBean</ejb-link>
            </ejb-ref>
            </message-driven>
        </enterprise-beans>
    <assembly-descriptor>
        
        <container-transaction>
            <method>
                <ejb-name>ImporterBean</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ImporterBean</ejb-name>
                <method-name>imp</method-name>
            </method>
            <trans-attribute>RequiresNew</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ImpBean</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ImportJobBean</ejb-name>
                <method-name>*</method-name>
            </method>
            <trans-attribute>Required</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ImportJobBean</ejb-name>
                <method-name>setStatus</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <container-transaction>
            <method>
                <ejb-name>ImportJobBean</ejb-name>
                <method-name>setProgress</method-name>
            </method>
            <trans-attribute>NotSupported</trans-attribute>
        </container-transaction>
        <message-destination>
            <display-name>Destination for Imp</display-name>
            <message-destination-name>ImpDestination</message-destination-name>
        </message-destination>
        </assembly-descriptor>
    </ejb-jar>
